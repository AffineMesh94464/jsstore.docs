(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{219:function(e,t,r){"use strict";r.r(t);var n={components:{Layout:r(175).a}},o=r(14),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",{attrs:{title:"Upsert",description:"upsert data in indexedb using jsstore",keywords:"upsert, api, insert, indexeddb, jsstore",contentSrc:"/home/runner/work/jsstore.docs/jsstore.docs/content/tutorial/insert/upsert.md"}},[r("p",[r("code",[e._v("upsert")]),e._v(" is used to replace the existing data otherwise insert as new record if does not exist. "),r("code",[e._v("upsert")]),e._v(" is an option in "),r("code",[e._v("insert")]),e._v(" api.")]),e._v(" "),r("p",[e._v('e.g - Consider we have below record in a table "Customers"')]),e._v(" "),r("pre",[r("code",[e._v('{\n    id:90, //primary key\n    name:"ujjwal gupta",\n    address:"Bengaluru India"\n}\n')])]),e._v(" "),r("p",[e._v("now we want to replace the whole data , so we will call "),r("code",[e._v("insert")]),e._v(" api with option "),r("code",[e._v("upsert")]),e._v(".")]),e._v(" "),r("pre",[r("code",[e._v('var newData = {\n    id:90, //primary key\n    name:"some other name",\n    address:"some other address"\n}\n\nvar noOfRowsInserted = await connection.insert({\n    into: "Customers",\n    upsert:true,\n    values: [newData], //you can insert multiple values at a time\n});\n')])]),e._v(" "),r("p",[e._v("Points to note :- ")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("While using upsert - primary key should be same as old records otherwise new record will be created. IndexedDb uses primary key to identify existing record.")])]),e._v(" "),r("li",[r("p",[e._v("In a case where you want to update particular column, you should use "),r("a",{attrs:{href:"/tutorial/update"}},[e._v("update")]),e._v(" api. "),r("code",[e._v("upsert")]),e._v(" replace the old record completely except primary key and add a new record.")])])])])}),[],!1,null,null,null);t.default=component.exports}}]);